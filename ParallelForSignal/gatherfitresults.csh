#!/bin/tcsh

#Years to process
#No signal for 2016 for now
setenv years "2017 2018"

# Samples we are studying
setenv samples "RSGravitonToGammaGamma_kMpl001_M_750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_1000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_1250_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_1500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_1750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_2000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_2250_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_2500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_2750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_3000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_3250_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_3500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_4000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl001_M_5000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_1000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_1250_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_1500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_1750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_2000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_2250_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_2500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_3000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_3500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_4000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_4250_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_4500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_4750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_5000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_5250_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_5500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_5750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_6000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_6500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_7000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl01_M_8000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_1000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_1250_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_1500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_1750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_2000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_2250_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_2500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_3000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_3500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_4000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_4500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_4750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_5000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_5250_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_5500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_5750_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_6000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_6500_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_7000_TuneCP2_13TeV_pythia8 RSGravitonToGammaGamma_kMpl02_M_8000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_750_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_1000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_1250_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_1500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_1750_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_2000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_2250_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_2500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_2750_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_3000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_3250_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_3500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_4000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_4500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_0p014_M_5000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_750_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_1000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_1250_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_1500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_1750_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_2000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_2250_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_2500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_3000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_3500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_4000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_4250_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_4500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_4750_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_1p4_M_5000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_750_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_1000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_1250_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_1500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_1750_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_2000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_2250_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_2500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_3000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_3500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_4000_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_4500_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_4750_TuneCP2_13TeV_pythia8 GluGluSpin0ToGammaGamma_W_5p6_M_5000_TuneCP2_13TeV_pythia8"

setenv inoutpath "/afs/cern.ch/work/h/hsinyeh/public/diphoton-analysis/CMSSW_10_2_13/src/diphoton-analysis"

setenv PWD `pwd`

# Year first
foreach year ($years)
echo "------------------------"
echo "Year ${year}"

mkdir -p ${inoutpath}/input/${year}/txts

rm ${inoutpath}/input/${year}/resp_fits_${year}.txt
rm ${inoutpath}/input/${year}/gen_fits_${year}.txt

touch ${inoutpath}/input/${year}/resp_fits_${year}.txt
touch ${inoutpath}/input/${year}/gen_fits_${year}.txt

# Starting the loop through all models
foreach sam ($samples)
echo "===================================================================================="
echo "Sample $sam" 

cat ${inoutpath}/input/${year}/resp_fits_${year}_${sam}.txt >>  ${inoutpath}/input/${year}/resp_fits_${year}.txt
cat ${inoutpath}/input/${year}/gen_fits_${year}_${sam}.txt >>  ${inoutpath}/input/${year}/gen_fits_${year}.txt

mv ${inoutpath}/input/${year}/resp_fits_${year}_${sam}.txt ${inoutpath}/input/${year}/txts/.
mv ${inoutpath}/input/${year}/gen_fits_${year}_${sam}.txt ${inoutpath}/input/${year}/txts/.

end 

end
